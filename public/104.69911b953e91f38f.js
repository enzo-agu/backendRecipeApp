"use strict";(self.webpackChunkngRecipes=self.webpackChunkngRecipes||[]).push([[104],{6104:(P,l,o)=>{o.r(l),o.d(l,{RecipesModule:()=>y});var d=o(6814),m=o(9310),e=o(4946),g=o(3715),h=o(7719),v=o(2705),i=o(95),C=o(3519),u=o.n(C);let R=(()=>{class t{constructor(r){this.recipeService=r,this.formNewRecipe=new i.cw({})}ngOnInit(){this.formNewRecipe=new i.cw({nombre:new i.NI("",[i.kI.required,i.kI.minLength(4)]),descripcion:new i.NI("",[i.kI.required,i.kI.minLength(4)]),ingredientes:new i.NI("",[i.kI.required,i.kI.minLength(4)]),img:new i.NI("",[i.kI.required,i.kI.minLength(4)])})}addNewRecipe(r){r.preventDefault();const{ingredientes:n}=this.formNewRecipe.value,c={...this.formNewRecipe.value,ingredientes:[{name:n}]};this.formNewRecipe.reset(),this.recipeService.addRecipe(c).subscribe(a=>{u().fire({title:"Receta agregada!",icon:"success",customClass:{popup:"sweet-popup"}}),a&&this.recipeService.getRecipes().subscribe({next:s=>{const I=s.total.map(p=>({__v:1,_id:p._id,description:p.descripcion,imagePath:p.img,ingredients:p.ingredientes,name:p.nombre}));this.recipeService.recipes$.next(I)},error:s=>console.log(s)})},a=>{u().fire({title:"No pudo agregarse la receta /  existente",icon:"error",customClass:{popup:"sweet-popup"}}),console.log("error \u{1f449}",a)})}static#e=this.\u0275fac=function(n){return new(n||t)(e.Y36(g.v))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-add-recipe-card"]],decls:11,vars:2,consts:[[1,"add-recipe-form",3,"formGroup","ngSubmit"],[1,"form-element"],["formControlName","nombre","type","text","placeholder","Name"],["formControlName","descripcion","type","text","placeholder","description"],["formControlName","ingredientes","type","text","placeholder","ingredients"],["formControlName","img","type","text","placeholder","imagePath"],[1,"form-button",3,"disabled"]],template:function(n,c){1&n&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(s){return c.addNewRecipe(s)}),e.TgZ(1,"div",1),e._UZ(2,"input",2),e.qZA(),e.TgZ(3,"div",1),e._UZ(4,"input",3),e.qZA(),e.TgZ(5,"div",1),e._UZ(6,"input",4),e.qZA(),e.TgZ(7,"div",1),e._UZ(8,"input",5),e.qZA(),e.TgZ(9,"button",6),e._uU(10," Add recipe "),e.qZA()()),2&n&&(e.Q6J("formGroup",c.formNewRecipe),e.xp6(9),e.Q6J("disabled",c.formNewRecipe.invalid))},dependencies:[i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u],styles:[".add-recipe-form[_ngcontent-%COMP%]{background-color:var(--background-color-2);border-radius:var(--border-radius-1);box-shadow:var(--color-1-alpha) 0 0 20px 0;padding:1.5rem}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-around;gap:10px}.form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:8px;border:solid 1px black}.form[_ngcontent-%COMP%]   .form-input-file[_ngcontent-%COMP%]{border:none;border-radius:6px}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:solid 1px var(--color-red)!important}input.ng-valid.ng-touched[_ngcontent-%COMP%]{border:solid 1px var(--color-green)!important}"]})}return t})();function b(t,f){if(1&t&&(e.TgZ(0,"div",3),e._UZ(1,"app-recipe-card",6),e.qZA()),2&t){const r=f.$implicit;e.xp6(1),e.Q6J("recipe",r)}}function x(t,f){if(1&t&&(e.ynx(0),e.YNc(1,b,2,1,"div",5),e.BQk()),2&t){const r=e.oxw();e.xp6(1),e.Q6J("ngForOf",r.recipesFiltered)}}const N=[{path:"",component:(()=>{class t{constructor(r,n){this.recipesService=r,this.searchService=n,this.recipes=[],this.recipesFiltered=[]}ngOnInit(){this.recipesService.recipes$.subscribe({next:r=>{this.recipes=r,this.recipesFiltered=this.recipes}}),this.searchService.searchTerm$.subscribe({next:r=>{this.recipesFiltered=""===r?this.recipes:this.recipes.filter(n=>n.name.toLowerCase().includes(r.toLowerCase()))}})}static#e=this.\u0275fac=function(n){return new(n||t)(e.Y36(g.v),e.Y36(h.o))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-recipes-page"]],decls:6,vars:1,consts:[[1,"recipes"],[1,"cont"],[1,"row"],[1,"col-md-4","col-sm-6","pb-4"],[4,"ngIf"],["class","col-md-4 col-sm-6 pb-4",4,"ngFor","ngForOf"],[3,"recipe"]],template:function(n,c){1&n&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"app-add-recipe-card"),e.qZA(),e.YNc(5,x,2,1,"ng-container",4),e.qZA()()()),2&n&&(e.xp6(5),e.Q6J("ngIf",c.recipes.length>0))},dependencies:[d.sg,d.O5,v.F,R]})}return t})()}];let Z=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=e.oAB({type:t});static#i=this.\u0275inj=e.cJS({imports:[m.Bz.forChild(N),m.Bz]})}return t})();var w=o(6208);let y=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=e.oAB({type:t});static#i=this.\u0275inj=e.cJS({imports:[d.ez,Z,w.m]})}return t})()}}]);