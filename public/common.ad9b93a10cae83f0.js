"use strict";(self.webpackChunkngRecipes=self.webpackChunkngRecipes||[]).push([[592],{2705:(b,d,o)=>{o.d(d,{F:()=>x});var g=o(3519),a=o.n(g),e=o(4946),u=o(3715),p=o(459),m=o(9466),s=o(4610),v=o(6814),f=o(9101),h=o(9310);let O=(()=>{class n{handleError(){this.host.nativeElement.src=this.customImg}constructor(i){this.host=i,this.customImg="../../../assets/imgs/dish.png"}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:n,selectors:[["img","appImgBroken",""]],hostBindings:function(r,t){1&r&&e.NdJ("error",function(){return t.handleError()})},inputs:{customImg:"customImg"}})}return n})(),P=(()=>{class n{transform(i,r){let t=i.slice(0,r);return i.length>r&&(t+="..."),t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275pipe=e.Yjl({name:"cutText",type:n,pure:!0})}return n})();function M(n,E){1&n&&(e.TgZ(0,"button",15),e._UZ(1,"i-feather",16),e.qZA())}const _=function(n){return["/recipe",n]},C=function(n){return{selected:n}};let x=(()=>{class n{constructor(i,r,t,c){this.recipeService=i,this.cookieService=r,this.shoppingListService=t,this.favoritesService=c,this.recipes=[]}deleteRecipe(i){const{_id:r}=i;a().fire({title:`\xbfEst\xe1 seguro de eliminar la receta ${i.name}?`,showDenyButton:!0,showCancelButton:!1,confirmButtonText:"S\xed",denyButtonText:"No",customClass:{popup:"sweet-popup"}}).then(t=>{t.isConfirmed&&this.recipeService.deleteRecipe(r).subscribe(()=>{a().fire({title:"Eliminada!",icon:"success",customClass:{popup:"sweet-popup"}}),this.recipeService.getRecipes().subscribe({next:c=>{const k=c.total.map(l=>({__v:1,_id:l._id,description:l.descripcion,imagePath:l.img,ingredients:l.ingredientes,name:l.nombre}));this.recipeService.recipes$.next(k)},error:c=>console.error(c)})},c=>{console.log(c),a().fire({title:"Error ",icon:"error",customClass:{popup:"sweet-popup"}})})})}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(u.v),e.Y36(p.N),e.Y36(m._),e.Y36(s.G))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-recipe-card"]],inputs:{recipe:"recipe"},decls:19,vars:19,consts:[[1,"recipe"],[1,"recipe-img",3,"routerLink"],["alt","","appImgBroken","",3,"src"],[1,"recipe-body"],[1,"recipe-title"],[1,"recipe-excerpt","mb-4"],[1,"recipe-buttons"],[1,"read-more",3,"routerLink"],[1,"add-to-cart",3,"ngClass","click"],["name","shopping-cart"],[1,"add-to-favorites",3,"ngClass","click"],["name","bookmark"],["class","edit",4,"ngIf"],[1,"delete",3,"click"],["name","trash"],[1,"edit"],["name","edit"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"a",1),e._UZ(2,"img",2),e.qZA(),e.TgZ(3,"div",3)(4,"h2",4),e._uU(5),e.qZA(),e.TgZ(6,"p",5),e._uU(7),e.ALo(8,"cutText"),e.qZA(),e.TgZ(9,"div",6)(10,"a",7),e._uU(11,"Read More"),e.qZA(),e.TgZ(12,"button",8),e.NdJ("click",function(){return t.shoppingListService.toggleShoppingList(t.recipe._id)}),e._UZ(13,"i-feather",9),e.qZA(),e.TgZ(14,"button",10),e.NdJ("click",function(){return t.favoritesService.toggleFavorite(t.recipe._id)}),e._UZ(15,"i-feather",11),e.qZA(),e.YNc(16,M,2,0,"button",12),e.TgZ(17,"button",13),e.NdJ("click",function(){return t.deleteRecipe(t.recipe)}),e._UZ(18,"i-feather",14),e.qZA()()()()),2&r&&(e.xp6(1),e.Q6J("routerLink",e.VKq(11,_,t.recipe._id)),e.xp6(1),e.Q6J("src",t.recipe.imagePath,e.LSH),e.xp6(3),e.Oqu(t.recipe.name),e.xp6(2),e.Oqu(e.xi3(8,8,t.recipe.description,150)),e.xp6(3),e.Q6J("routerLink",e.VKq(13,_,t.recipe._id)),e.xp6(2),e.Q6J("ngClass",e.VKq(15,C,t.shoppingListService.isInShoppingList(t.recipe._id))),e.xp6(2),e.Q6J("ngClass",e.VKq(17,C,t.favoritesService.isFavorite(t.recipe._id))),e.xp6(2),e.Q6J("ngIf",t.recipe.userEmail===t.cookieService.get("cookieService")))},dependencies:[v.mk,v.O5,f.u,h.rH,O,P],styles:[".recipe[_ngcontent-%COMP%]{border-radius:var(--border-radius-1);background-color:var(--background-color-2);overflow:hidden;box-shadow:var(--color-1-alpha) 0 0 20px 0;transition:var(--animation);display:block;color:var(--text-color);text-decoration:none;display:flex;flex-direction:column;height:100%}.recipe[_ngcontent-%COMP%]:hover{box-shadow:none}.recipe-img[_ngcontent-%COMP%]{height:var(--recipe-image-height);overflow:hidden}.recipe-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.recipe-body[_ngcontent-%COMP%]{padding:1rem;display:flex;flex-direction:column;flex:1}.recipe-title[_ngcontent-%COMP%]{font-size:1.5rem;font-style:normal;margin-bottom:.5rem}.recipe-ingredients[_ngcontent-%COMP%]{font-style:italic;margin-bottom:.25rem}.recipe-buttons[_ngcontent-%COMP%]{margin-top:auto;display:flex;align-items:center}.read-more[_ngcontent-%COMP%]{font-weight:700;color:var(--color-1);transition:var(--animation);padding-right:.3rem}.read-more[_ngcontent-%COMP%]:hover{color:var(--text-color)}.recipe-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:.5rem;background-color:var(--color-1-alpha);text-align:center;box-shadow:var(--color-1-alpha) 0 0 20px 0;color:var(--text-color);font-size:.7rem;transition:var(--animation);border:1px solid transparent;border-radius:var(--border-radius-1);height:2rem;width:2rem}.recipe-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{box-shadow:none;border:1px solid var(--color-1-alpha)}.recipe-buttons[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{background-color:var(--color-1);color:var(--background-color-2);border:1px solid var(--color-1-alpha);box-shadow:none}.recipe-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i-feather[_ngcontent-%COMP%]{height:.75rem;width:.75rem}.recipe-buttons[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{margin-left:auto}.recipe-buttons[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{background-color:var(--color-red-alpha)}"]})}return n})()},6208:(b,d,o)=>{o.d(d,{m:()=>m});var g=o(6814),a=o(2727),e=o(9310),u=o(95),p=o(4946);let m=(()=>{class s{static#e=this.\u0275fac=function(h){return new(h||s)};static#t=this.\u0275mod=p.oAB({type:s});static#n=this.\u0275inj=p.cJS({imports:[g.ez,a.p,e.Bz,u.UX]})}return s})()}}]);