"use strict";(self.webpackChunkngRecipes=self.webpackChunkngRecipes||[]).push([[599],{6779:(A,m,c)=>{c.r(m),c.d(m,{RecipeModule:()=>S});var a=c(6814),p=c(9310),i=c(95),f=c(3519),h=c.n(f),e=c(4946),v=c(3715),b=c(459),C=c(9466),_=c(4610),P=c(9101);function Z(t,l){if(1&t&&(e.TgZ(0,"li",20),e._uU(1),e.qZA()),2&t){const o=l.$implicit;e.xp6(1),e.hij(" ",o.name," ")}}function M(t,l){if(1&t){const o=e.EpF();e.TgZ(0,"form",21),e.NdJ("ngSubmit",function(n){e.CHM(o);const s=e.oxw();return e.KtG(s.submitChanges(s.recipe,n))}),e.TgZ(1,"div",22),e._UZ(2,"input",23),e.qZA(),e.TgZ(3,"div",22),e._UZ(4,"input",24),e.qZA(),e.TgZ(5,"div",22),e._UZ(6,"input",25),e.qZA(),e.TgZ(7,"div",26)(8,"button",27),e._uU(9," Guardar "),e.qZA(),e.TgZ(10,"button",12),e.NdJ("click",function(){e.CHM(o);const n=e.oxw();return e.KtG(n.closeEdition())}),e._uU(11," Cancelar "),e.qZA()()()}if(2&t){const o=e.oxw();e.Q6J("formGroup",o.formEdit),e.xp6(8),e.Q6J("disabled",o.formEdit.invalid)}}function O(t,l){1&t&&(e.TgZ(0,"button",28),e._UZ(1,"i-feather",29),e.qZA())}const u=function(t){return{selected:t}},T=[{path:"",component:(()=>{class t{constructor(o,r,n,s,d,g){this.route=o,this.recipeService=r,this.cookieService=n,this.shoppingListService=s,this.favoritesService=d,this.router=g,this.openForm=!1}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.recipeService.recipes$.subscribe({next:o=>{this.recipe=o.find(r=>r._id===this.id)}}),this.formEdit=new i.cw({nombre:new i.NI("",[i.kI.required,i.kI.minLength(4)]),descripcion:new i.NI("",[i.kI.required,i.kI.minLength(4)]),ingredientes:new i.NI("",[i.kI.required,i.kI.minLength(4)])})}openFormEdit(){this.openForm=!0}submitChanges(o,r){r.preventDefault();const{nombre:n,descripcion:s,ingredientes:d}=this.formEdit.value;this.recipeService.editRecipe(o._id,{nombre:n,descripcion:s,ingredientes:[{name:d}]}).subscribe(R=>{console.log(R),h().fire({title:"Receta editada!",icon:"success",customClass:{popup:"sweet-popup"}})}),this.formEdit.reset(),this.openForm=!1}closeEdition(){this.openForm=!1,this.formEdit.reset()}static#e=this.\u0275fac=function(r){return new(r||t)(e.Y36(p.gz),e.Y36(v.v),e.Y36(b.N),e.Y36(C._),e.Y36(_.G),e.Y36(p.F0))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-recipe-page"]],decls:24,vars:12,consts:[[1,"recipe-page"],[1,"cont"],[1,"row","justify-content-center"],[1,"col-md-8"],[1,"recipe"],[1,"recipe-img","mb-4"],["alt","","appImgBroken","",3,"src"],[1,"recipe-title","mb-3"],[1,"recipe-description","mb-3"],[1,"recipe-ingredients-title","mb-3"],[1,"recipe-ingredients"],["class","recipe-ingredient",4,"ngFor","ngForOf"],[1,"form-button","ms-0","me-4","mt-4",3,"click"],["class","mt-4",3,"formGroup","ngSubmit",4,"ngIf"],[1,"recipe-buttons"],[1,"add-to-cart",3,"ngClass","click"],["name","shopping-cart"],[1,"add-to-favorites",3,"ngClass","click"],["name","bookmark"],["class","delete",4,"ngIf"],[1,"recipe-ingredient"],[1,"mt-4",3,"formGroup","ngSubmit"],[1,"form-element"],["formControlName","nombre","type","text","placeholder","name"],["formControlName","descripcion","type","text","placeholder","description"],["formControlName","ingredientes","type","text","placeholder","ingredients"],[1,"d-flex"],[1,"form-button","ms-0","me-4","mt-4",3,"disabled"],[1,"delete"],["name","trash"]],template:function(r,n){1&r&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"img",6),e.qZA(),e.TgZ(7,"h2",7),e._uU(8),e.qZA(),e.TgZ(9,"p",8),e._uU(10),e.qZA(),e.TgZ(11,"h3",9),e._uU(12,"Ingredients:"),e.qZA(),e.TgZ(13,"ul",10),e.YNc(14,Z,2,1,"li",11),e.qZA(),e.TgZ(15,"button",12),e.NdJ("click",function(){return n.openFormEdit()}),e._uU(16," Editar "),e.qZA(),e.YNc(17,M,12,2,"form",13),e.TgZ(18,"div",14)(19,"button",15),e.NdJ("click",function(){return n.shoppingListService.toggleShoppingList(n.recipe._id)}),e._UZ(20,"i-feather",16),e.qZA(),e.TgZ(21,"button",17),e.NdJ("click",function(){return n.favoritesService.toggleFavorite(n.recipe._id)}),e._UZ(22,"i-feather",18),e.qZA(),e.YNc(23,O,2,0,"button",19),e.qZA()()()()()()),2&r&&(e.xp6(6),e.Q6J("src",n.recipe.imagePath,e.LSH),e.xp6(2),e.Oqu(n.recipe.name),e.xp6(2),e.Oqu(n.recipe.description),e.xp6(4),e.Q6J("ngForOf",n.recipe.ingredients),e.xp6(3),e.Q6J("ngIf",n.openForm),e.xp6(2),e.Q6J("ngClass",e.VKq(8,u,n.shoppingListService.isInShoppingList(n.recipe._id))),e.xp6(2),e.Q6J("ngClass",e.VKq(10,u,n.favoritesService.isFavorite(n.recipe._id))),e.xp6(2),e.Q6J("ngIf",n.recipe.userEmail===n.cookieService.get("cookieService")))},dependencies:[a.mk,a.sg,a.O5,P.u,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u],styles:[".recipe[_ngcontent-%COMP%]{background-color:var(--background-color-2);border-radius:var(--border-radius-1);box-shadow:var(--color-1-alpha) 0 0 20px 0;padding:2rem}.recipe-img[_ngcontent-%COMP%]{overflow:hidden;border-radius:var(--border-radius-1)}.recipe-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.recipe-title[_ngcontent-%COMP%]{font-style:normal}.recipe-description[_ngcontent-%COMP%]{font-size:1rem}.recipe-ingredients-title[_ngcontent-%COMP%]{font-size:1.25rem;font-style:normal}.recipe-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row}.recipe-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:1rem}.recipe-buttons[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{margin-left:auto}.recipe-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:1rem;background-color:var(--color-1-alpha);text-align:center;padding:.5rem;box-shadow:var(--color-1-alpha) 0 0 20px 0;color:var(--text-color);font-size:.7rem;transition:var(--animation);border:1px solid transparent;border-radius:var(--border-radius-1);height:3rem;width:3rem}.recipe-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{box-shadow:none;border:1px solid var(--color-1-alpha)}.recipe-buttons[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{background-color:var(--color-1);color:var(--background-color-2);border:1px solid var(--color-1-alpha);box-shadow:none}.recipe-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i-feather[_ngcontent-%COMP%]{height:1rem;width:1rem}.recipe-buttons[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{background-color:var(--color-red-alpha)}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:solid 1px var(--color-red)!important}input.ng-valid.ng-touched[_ngcontent-%COMP%]{border:solid 1px var(--color-green)!important}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-type:none}"]})}return t})()}];let x=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=e.oAB({type:t});static#n=this.\u0275inj=e.cJS({imports:[p.Bz.forChild(T),p.Bz]})}return t})();var k=c(2727);let S=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=e.oAB({type:t});static#n=this.\u0275inj=e.cJS({imports:[a.ez,x,k.p,i.UX]})}return t})()}}]);