"use strict";(self.webpackChunkngRecipes=self.webpackChunkngRecipes||[]).push([[29],{4029:(C,m,s)=>{s.r(m),s.d(m,{AuthModule:()=>w});var u=s(6814),a=s(9310),e=s(95),g=s(3519),c=s.n(g),o=s(4946),h=s(9947),f=s(9862),d=s(459);let p=(()=>{class n{constructor(i,t){this.http=i,this.cookie=t,this.URL=h.N.api}sendCredentials(i,t){return this.http.post(`${this.URL}/api/auth/login`,{email:i,password:t})}sendNewCredentials(i,t){return this.http.post(`${this.URL}/api/auth/signup`,{email:i,password:t})}static#o=this.\u0275fac=function(t){return new(t||n)(o.LFG(f.eN),o.LFG(d.N))};static#e=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const v=[{path:"login",component:(()=>{class n{constructor(i,t,r){this.asAuthService=i,this.cookie=t,this.router=r,this.errorSession=!1,this.formLogin=new e.cw({})}ngOnInit(){this.formLogin=new e.cw({email:new e.NI("",[e.kI.required,e.kI.email]),password:new e.NI("",[e.kI.required,e.kI.minLength(6),e.kI.maxLength(12)])})}sendLogin(){const{email:i,password:t}=this.formLogin.value;this.asAuthService.sendCredentials(i,t).subscribe(r=>{c().fire({title:"Ingreso exitoso!",icon:"success",customClass:{popup:"sweet-popup"}});const{token:l}=r;this.cookie.set("token",l,4,"/"),this.cookie.set("user-email",i),this.router.navigate(["/"])},r=>{c().fire({title:"Credenciales no registradas",icon:"error",customClass:{popup:"sweet-popup"}}),this.errorSession=!0,console.log("error \u{1f449}",r)})}static#o=this.\u0275fac=function(t){return new(t||n)(o.Y36(p),o.Y36(d.N),o.Y36(a.F0))};static#e=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-login"]],decls:22,vars:2,consts:[[1,"login-page"],[1,"cont"],[1,"login-wrapper","d-flex","justify-content-center","align-items-center"],[1,"login"],[1,"app-name","mb-4","text-center"],["action","",3,"formGroup","ngSubmit"],[1,"form-element"],["for","email"],["formControlName","email","id","email","name","email","type","email","placeholder","Direcci\xf3n de correo"],["for","password"],["formControlName","password","id","password","name","password","type","password","placeholder","Contrase\xf1a"],[1,"form-button",3,"disabled"],[1,"text-center","mt-2"],["routerLink","/auth/sign-up"]],template:function(t,r){1&t&&(o.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),o._uU(5,"ngRecipes"),o.qZA(),o.TgZ(6,"form",5),o.NdJ("ngSubmit",function(){return r.sendLogin()}),o.TgZ(7,"div",6)(8,"label",7),o._uU(9,"Email"),o.qZA(),o._UZ(10,"input",8),o.qZA(),o.TgZ(11,"div",6)(12,"label",9),o._uU(13,"Password"),o.qZA(),o._UZ(14,"input",10),o.qZA(),o.TgZ(15,"button",11),o._uU(16,"Login"),o.qZA(),o.TgZ(17,"p",12),o._uU(18," or "),o.TgZ(19,"a",13)(20,"strong"),o._uU(21,"Sign Up"),o.qZA()()()()()()()()),2&t&&(o.xp6(6),o.Q6J("formGroup",r.formLogin),o.xp6(9),o.Q6J("disabled",r.formLogin.invalid))},dependencies:[a.rH,e._Y,e.Fj,e.JJ,e.JL,e.sg,e.u],styles:[".login-wrapper[_ngcontent-%COMP%]{min-height:calc(100svh - 3rem)}.login[_ngcontent-%COMP%]{background-color:var(--background-color-2);border-radius:var(--border-radius-1);box-shadow:var(--color-1-alpha) 0 0 20px 0;padding:2rem;max-width:100%;width:25rem}.form-element[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem}.form-element[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.75rem;margin-bottom:.25rem;padding-left:.25rem}.form-element[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid #434343;border-radius:var(--border-radius-1);outline:none;padding:.25rem .75rem;max-width:100%}.form-button[_ngcontent-%COMP%]{display:block;min-width:9rem;text-align:center;padding:.5rem;font-weight:700;text-decoration:none;text-transform:uppercase;font-size:.7rem;transition:var(--animation);border-radius:var(--border-radius-1);background-color:var(--color-1);color:var(--background-color-2);border:1px solid var(--color-1-alpha);box-shadow:none;margin:0 auto;margin-top:2rem}a[_ngcontent-%COMP%]{color:var(--text-color)}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:solid 1px var(--color-red)!important}input.ng-valid.ng-touched[_ngcontent-%COMP%]{border:solid 1px var(--color-green)!important}"]})}return n})()},{path:"sign-up",component:(()=>{class n{constructor(i,t,r){this.asAuthService=i,this.cookie=t,this.router=r,this.errorSession=!1,this.formLogin=new e.cw({})}ngOnInit(){this.formLogin=new e.cw({email:new e.NI("",[e.kI.required,e.kI.email]),password:new e.NI("",[e.kI.required,e.kI.minLength(6),e.kI.maxLength(12)])})}sendSignUp(){const{email:i,password:t}=this.formLogin.value;this.asAuthService.sendNewCredentials(i,t).subscribe(r=>{const{token:l}=r;c().fire({title:"Registro exitoso!",icon:"success",customClass:{popup:"sweet-popup"}}),console.log(l),console.log(r),this.router.navigate(["/auth/login"])},r=>{c().fire({title:"No pudo registrarse / usuario existente",icon:"error",customClass:{popup:"sweet-popup"}}),this.errorSession=!0,console.log("error \u{1f449}",r)})}static#o=this.\u0275fac=function(t){return new(t||n)(o.Y36(p),o.Y36(d.N),o.Y36(a.F0))};static#e=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-sign-up"]],decls:22,vars:2,consts:[[1,"login-page"],[1,"cont"],[1,"login-wrapper","d-flex","justify-content-center","align-items-center"],[1,"login"],[1,"app-name","mb-4","text-center"],["action","",3,"formGroup","ngSubmit"],[1,"form-element"],["for","email"],["formControlName","email","id","email","name","email","type","email","placeholder","Direcci\xf3n de correo"],["for","password"],["formControlName","password","id","password","name","password","type","password","placeholder","Contrase\xf1a"],[1,"form-button",3,"disabled"],[1,"text-center","mt-2"],["routerLink","/auth/login"]],template:function(t,r){1&t&&(o.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),o._uU(5,"ngRecipes"),o.qZA(),o.TgZ(6,"form",5),o.NdJ("ngSubmit",function(){return r.sendSignUp()}),o.TgZ(7,"div",6)(8,"label",7),o._uU(9,"Email"),o.qZA(),o._UZ(10,"input",8),o.qZA(),o.TgZ(11,"div",6)(12,"label",9),o._uU(13,"Password"),o.qZA(),o._UZ(14,"input",10),o.qZA(),o.TgZ(15,"button",11),o._uU(16," Sign Up "),o.qZA(),o.TgZ(17,"p",12),o._uU(18," or "),o.TgZ(19,"a",13)(20,"strong"),o._uU(21,"Log In"),o.qZA()()()()()()()()),2&t&&(o.xp6(6),o.Q6J("formGroup",r.formLogin),o.xp6(9),o.Q6J("disabled",r.formLogin.invalid))},dependencies:[a.rH,e._Y,e.Fj,e.JJ,e.JL,e.sg,e.u],styles:[".login-wrapper[_ngcontent-%COMP%]{min-height:calc(100svh - 3rem)}.login[_ngcontent-%COMP%]{background-color:var(--background-color-2);border-radius:var(--border-radius-1);box-shadow:var(--color-1-alpha) 0 0 20px 0;padding:2rem;max-width:100%;width:25rem}.form-element[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem}.form-element[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.75rem;margin-bottom:.25rem;padding-left:.25rem}.form-element[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid #434343;border-radius:var(--border-radius-1);outline:none;padding:.25rem .75rem;max-width:100%}.form-button[_ngcontent-%COMP%]{display:block;min-width:9rem;text-align:center;padding:.5rem;font-weight:700;text-decoration:none;text-transform:uppercase;font-size:.7rem;transition:var(--animation);border-radius:var(--border-radius-1);background-color:var(--color-1);color:var(--background-color-2);border:1px solid var(--color-1-alpha);box-shadow:none;margin:0 auto;margin-top:2rem}a[_ngcontent-%COMP%]{color:var(--text-color)}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:solid 1px var(--color-red)!important}input.ng-valid.ng-touched[_ngcontent-%COMP%]{border:solid 1px var(--color-green)!important}"]})}return n})()},{path:"**",redirectTo:"/auth/login"}];let b=(()=>{class n{static#o=this.\u0275fac=function(t){return new(t||n)};static#e=this.\u0275mod=o.oAB({type:n});static#t=this.\u0275inj=o.cJS({imports:[a.Bz.forChild(v),a.Bz]})}return n})(),w=(()=>{class n{static#o=this.\u0275fac=function(t){return new(t||n)};static#e=this.\u0275mod=o.oAB({type:n});static#t=this.\u0275inj=o.cJS({imports:[u.ez,b,e.UX]})}return n})()}}]);